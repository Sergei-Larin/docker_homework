# docker_homework
# 1 Лекция
Написать Dockerfile для frontend располагается в директории /frontend, собрать и запустить
# 2 Лекция
Написать Dockerfile для backend который располагается в директории /lib_catalog(для сборки контейнера необходимо использовать файл /lib_catalog/requirements.txt), для работы backend необходим postgresql, т.е. необходимо собрать 2 контейнера:
1. backend
2. postgresql

Осуществить сетевые настройки, для работы связки backend и postgresql
# 3 Лекция
Написать docker-compose.yaml, для всего проекта, собрать и запустить

# Критерий оценки финального задания
1. Dockerfile должны быть написаны согласно пройденным best practices
2. Для docker-compose необходимо использовать локальное image registry
3. В docker-compose необходимо сетевые настройки 2 разных интерфейса(bridge), 1 - для фронта, 2 - для бека с postgresql

4.* Осущиствить сборку проекта самим docker-compose команда docker-compose build(при использовании этого подхода необходимо исключить 2 пункт из критерии оценки)

# Запуск проекта в докере
1. Для запуска проекта потребуется IP адрес хоста(<IP_АДРЕС_ХОСТА>), где установлен docker и docker-compose.

2. Изменить конфиг nginx, указав свой ip адрес, для этого выполнить команду:
sed -i "s/localhost/<IP_АДРЕС_ХОСТА>/g" frontend/nginx.conf

3. Выполнить сборку проекта, выполнив команду передав IP адрес хоста, в качестве аргумента HOST_IP:
docker-compose build --build-arg HOST_IP=<IP_АДРЕС_ХОСТА>

4. Для запуска приложения, выполнить команду:
docker-compose up -d

5. Выполнить миграцию БД при первом запуске приложения, командой:
docker exec -it app_backend python manage.py migrate

6. Для просмотра приложения окрыть http://<IP_АДРЕС_ХОСТА> 
